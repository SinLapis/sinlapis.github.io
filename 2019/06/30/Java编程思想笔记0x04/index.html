<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Java编程思想笔记0x04"><meta name="keywords" content="笔记,Java"><meta name="author" content="SinLapis"><meta name="copyright" content="SinLapis"><title>Java编程思想笔记0x04 | SinLapis的博客</title><link rel="shortcut icon" href="/images/87235d96-63d9-443d-a4fa-8093fac33ada_200x200.png"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串"><span class="toc-number">1.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#不可变String"><span class="toc-number">1.1.</span> <span class="toc-text">不可变String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重载“-”与StringBuilder"><span class="toc-number">1.2.</span> <span class="toc-text">重载“+”与StringBuilder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无意识递归"><span class="toc-number">1.3.</span> <span class="toc-text">无意识递归</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#格式化输出"><span class="toc-number">1.4.</span> <span class="toc-text">格式化输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#System-out-format"><span class="toc-number">1.4.1.</span> <span class="toc-text">System.out.format()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Formatter类"><span class="toc-number">1.4.2.</span> <span class="toc-text">Formatter类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#格式化说明符"><span class="toc-number">1.4.3.</span> <span class="toc-text">格式化说明符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Formatter转换"><span class="toc-number">1.4.4.</span> <span class="toc-text">Formatter转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式"><span class="toc-number">1.5.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本构造"><span class="toc-number">1.5.1.</span> <span class="toc-text">基本构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#量词"><span class="toc-number">1.5.2.</span> <span class="toc-text">量词</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pattern和Matcher"><span class="toc-number">1.5.3.</span> <span class="toc-text">Pattern和Matcher</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#替换"><span class="toc-number">1.5.4.</span> <span class="toc-text">替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reset"><span class="toc-number">1.5.5.</span> <span class="toc-text">reset()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#扫描输入"><span class="toc-number">1.6.</span> <span class="toc-text">扫描输入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scanner定界符"><span class="toc-number">1.6.1.</span> <span class="toc-text">Scanner定界符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用正则表达式扫描"><span class="toc-number">1.6.2.</span> <span class="toc-text">用正则表达式扫描</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/images/3774d809.jpg"></div><div class="author-info__name text-center">SinLapis</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">103</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">70</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">20</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="http://chace.in/">chace</a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SinLapis的博客</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/ACGBlog">ACG</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">Java编程思想笔记0x04</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-30</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Java/">Java</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="不可变String"><a href="#不可变String" class="headerlink" title="不可变String"></a>不可变String</h2><ul>
<li><code>String</code>对象是不可变的。<code>String</code>类中每一个看起来会修改<code>String</code>值的方法，实际上都是创建了一个全新的<code>String</code>对象。</li>
<li>对于一个方法而言，参数是为该方法提供信息的，而不是想让该方法改变自己。</li>
</ul>
<h2 id="重载“-”与StringBuilder"><a href="#重载“-”与StringBuilder" class="headerlink" title="重载“+”与StringBuilder"></a>重载“+”与StringBuilder</h2><ul>
<li>重载：一个操作符在应用于特定的类时，赋予其特定的含义。</li>
<li>在Java中，用于<code>String</code>的<code>+</code>和<code>+=</code>是仅有的两个重载过的操作符，不允许程序员重载任何操作符。</li>
<li>Java编译器会自动优化<code>String</code>操作并使用<code>StringBuilder</code>,因为其高效，但是并不是所有的状况都会被优化。因此在需要大量操作<code>String</code>时使用<code>StringBuilder</code>是明智的选择。</li>
</ul>
<h2 id="无意识递归"><a href="#无意识递归" class="headerlink" title="无意识递归"></a>无意识递归</h2><ul>
<li>如果在<code>toString()</code>方法中使用<code>this</code>指针与其它字符串拼接，试图打印对象的地址，那么会引起无限的递归调用。[因为编译器试图把<code>this</code>指针转换为<code>String</code>类型，而转换的方法就是调用<code>this.toString()</code>。正确的做法是调用父类的<code>toString()</code>，即<code>super.toString()</code>。</li>
</ul>
<h2 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h2><h3 id="System-out-format"><a href="#System-out-format" class="headerlink" title="System.out.format()"></a>System.out.format()</h3><ul>
<li>类似于C语言中的<code>printf()</code>，接受一个简单的格式化字符串以及一串参数。</li>
</ul>
<h3 id="Formatter类"><a href="#Formatter类" class="headerlink" title="Formatter类"></a>Formatter类</h3><ul>
<li>创建<code>Formatter</code>对象时需要向构造器中传入输出目标，例如<code>System.out</code>。使用时调用<code>Formatter</code>对象的<code>format()</code>方法。</li>
</ul>
<h3 id="格式化说明符"><a href="#格式化说明符" class="headerlink" title="格式化说明符"></a>格式化说明符</h3><ul>
<li>抽象语法：<code>%[argument_index$][flags][width][.precision]conversion</code></li>
<li><code>width</code>：控制一个域的最小尺寸，在有必要时添加空格，来确保一个域至少达到某个长度。可以用于各种类型的数据转换。默认情况下数据是右对齐，可以使用<code>-</code>来改变对齐方向。</li>
<li><code>precision</code>：指明数据的最大尺寸。不能用于所有的数据类型转换，例如整数类型，并且应用于不同的数据类型转换时意义也不同。应用于<code>String</code>时表示打印<code>String</code>时输出的字符的最大数量；应用于浮点数时，表示小数部分要显示的位数（默认是6位），多则舍入，少则补0。</li>
</ul>
<h3 id="Formatter转换"><a href="#Formatter转换" class="headerlink" title="Formatter转换"></a>Formatter转换</h3><ul>
<li>常用的类型转换：</li>
</ul>
<table>
<thead>
<tr>
<th>类型转换字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>整数型（十进制）</td>
</tr>
<tr>
<td>c</td>
<td>Unicode字符</td>
</tr>
<tr>
<td>b</td>
<td>Boolean值</td>
</tr>
<tr>
<td>s</td>
<td>String</td>
</tr>
<tr>
<td>f</td>
<td>浮点数（十进制）</td>
</tr>
<tr>
<td>e</td>
<td>浮点数（科学计数）</td>
</tr>
<tr>
<td>x</td>
<td>整数（十六进制）</td>
</tr>
<tr>
<td>h</td>
<td>散列码（十六进制）</td>
</tr>
<tr>
<td>%</td>
<td>字符”%”</td>
</tr>
</tbody>
</table>
<ul>
<li>关于b转换，对于<code>boolean</code>基本类型和<code>Boolean</code>对象，其转换结果就是<code>true</code>或<code>false</code>；对于其它类型的参数，只要其不为<code>null</code>，那么转换结果就是<code>true</code>，即使是数字<code>0</code>，转换结果依然是<code>true</code>。</li>
</ul>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="基本构造"><a href="#基本构造" class="headerlink" title="基本构造"></a>基本构造</h3><table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>指定字符B</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制值为0xhh的字符</td>
</tr>
<tr>
<td>\uhhhh</td>
<td>十六进制表示为0xhhhh的Unicode字符</td>
</tr>
<tr>
<td>\t</td>
<td>制表符Tab</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
</tr>
<tr>
<td>\f</td>
<td>换页</td>
</tr>
<tr>
<td>\e</td>
<td>转义（Escape）</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>字符类</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>任意字符</td>
</tr>
<tr>
<td>[abc]</td>
<td>包含a、b、c的任何字符，同 a&#124;b&#124;c</td>
</tr>
<tr>
<td>[^abc]</td>
<td>除了a、b、c的任何字符（否定）</td>
</tr>
<tr>
<td>[a-zA-Z]</td>
<td>从a到z或从A到Z的任何字符</td>
</tr>
<tr>
<td>\s</td>
<td>空白符（空格、Tab、换行、换页和回车）</td>
</tr>
<tr>
<td>\S</td>
<td>非空白符</td>
</tr>
<tr>
<td>\d</td>
<td>数字，同[0-9]</td>
</tr>
<tr>
<td>\D</td>
<td>非数字，[^0-9]</td>
</tr>
<tr>
<td>\w</td>
<td>词字符，[a-zA-Z0-9]</td>
</tr>
<tr>
<td>\W</td>
<td>非词字符，[^\w]</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>逻辑操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>XY</td>
<td>Y跟在X后面</td>
</tr>
<tr>
<td>X&#124;Y</td>
<td>X或Y</td>
</tr>
<tr>
<td>(X)</td>
<td>捕获组，可以在表达式中使用\i来引用第i个捕获</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>边界匹配符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>一行的开始</td>
</tr>
<tr>
<td>$</td>
<td>一行的结束</td>
</tr>
<tr>
<td>\b</td>
<td>词的边界</td>
</tr>
<tr>
<td>\B</td>
<td>非词的边界</td>
</tr>
<tr>
<td>\G</td>
<td>前一个匹配的结束</td>
</tr>
</tbody>
</table>
<h3 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h3><ul>
<li>量词描述了一个模式吸收输入文本的方式</li>
<li>贪婪型：一次性地读入整个字符串，如果无法完成匹配就去掉最右边的一个字符再匹配，直到找到匹配的字符串或字符串的长度为0为止。它的宗旨是读尽可能多的字符，所以当读到第一个匹配时就立刻返回。</li>
<li>厌恶型：立刻进入匹配，如果无法匹配则多读一个字符串，直到匹配成功或者字符串读完。它尽量减少了匹配到的字符串，但同样读到第一个匹配的就返回。</li>
<li>占有型：仅匹配一次，失败不会再次尝试。</li>
</ul>
<h3 id="Pattern和Matcher"><a href="#Pattern和Matcher" class="headerlink" title="Pattern和Matcher"></a>Pattern和Matcher</h3><ul>
<li><p>正则表达式对象：位于<code>java.util.regex</code>包中，使用<code>Pattern.compile()</code>编译正则表达式，并返回一个<code>Pattern</code>对象。使用<code>Pattern</code>对象的<code>matcher()</code>方法检索一个字符串，会得到一个<code>Matcher</code>对象。</p>
</li>
<li><p><code>Pattern</code>对象的<code>split()</code>方法可以从匹配了正则表达式的地方分割输入的字符串，返回分割后的子字符串<code>String</code>数组。</p>
</li>
<li><p><code>Matcher</code>对象的<code>find()</code>方法可用来在<code>CharSequence</code>中查找多个匹配</p>
</li>
<li><p>组：是用括号划分的正则表达式，可以根据组的编号来引用某个组。组号为0便是整个正则表达式，组号1表示第一对括号括起来的组。</p>
</li>
<li><p><code>Matcher</code>对象中有许多关于组的方法：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>方法名</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int groupCount()</code></td>
<td>返回<code>Matcher</code>对象中组数，不包含第0组</td>
</tr>
<tr>
<td><code>String group()</code></td>
<td>返回前一次匹配的第0组</td>
</tr>
<tr>
<td><code>String group(int i)</code></td>
<td>返回前一次匹配的指定组号，如果匹配成功但是指定的组没有匹配输入字符串的任何部分则返回<code>null</code></td>
</tr>
<tr>
<td><code>int start(int group)</code></td>
<td>返回前一次匹配操作中寻找到的组的起始索引</td>
</tr>
<tr>
<td><code>int end(int group)</code></td>
<td>返回前一次匹配操作中寻找到的组的最后一个字符索引加1的值</td>
</tr>
</tbody>
</table>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><table>
<thead>
<tr>
<th>方法名</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>String replaceFirst(String replacement)</code></td>
<td>用<code>replacement</code>替换掉第一个匹配成功的部分</td>
</tr>
<tr>
<td><code>String replaceAll(String replacement)</code></td>
<td>用<code>replacement</code>替换所有匹配成功的部分</td>
</tr>
<tr>
<td><code>Matcher appendReplacement(StringBuffer sb, String replacement)</code></td>
<td>1. 先将不匹配的地方放入<code>sb</code>中，即从上次读取的位置开始，到本次<code>start() - 1</code>；2. 将<code>replacement</code>放入<code>sb</code>中；3. 将读取位置改为<code>end()</code></td>
</tr>
<tr>
<td><code>StringBuffer appendTail(StringBuffer sb)</code></td>
<td>在多次使用<code>appendReplacement()</code>方法后，使用此方法将把剩余部分的字符串直接放入<code>sb</code>中</td>
</tr>
</tbody>
</table>
<h3 id="reset"><a href="#reset" class="headerlink" title="reset()"></a>reset()</h3><ul>
<li><code>reset()</code>可以将现有的<code>Matcher</code>对象应用于一个新的字符序列。</li>
</ul>
<h2 id="扫描输入"><a href="#扫描输入" class="headerlink" title="扫描输入"></a>扫描输入</h2><h3 id="Scanner定界符"><a href="#Scanner定界符" class="headerlink" title="Scanner定界符"></a>Scanner定界符</h3><ul>
<li>默认情况下，<code>Scanner</code>对象使用空白字符对输入进行分词。使用<code>Scanner</code>对象的<code>useDelimiter()</code>并输入正则表达式作为参数可以修改成自定义的定界符。</li>
</ul>
<h3 id="用正则表达式扫描"><a href="#用正则表达式扫描" class="headerlink" title="用正则表达式扫描"></a>用正则表达式扫描</h3><ul>
<li><code>Scanner</code>对象的<code>hasNext()</code>和<code>next()</code>方法都支持输入一个<code>Pattern</code>对象，找到下一个匹配该模式的部分，调用<code>match()</code>就能获得匹配结果。如果正则表达式中有定界符，将永远不会匹配成功。</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">SinLapis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://sinlapis.github.io/2019/06/30/Java编程思想笔记0x04/">http://sinlapis.github.io/2019/06/30/Java编程思想笔记0x04/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/笔记/">笔记</a><a class="post-meta__tags" href="/tags/Java/">Java</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/07/01/Java编程思想笔记0x05/"><i class="fa fa-chevron-left">  </i><span>Java编程思想笔记0x05</span></a></div><div class="next-post pull-right"><a href="/2019/06/28/Java编程思想笔记0x03/"><span>Java编程思想笔记0x03</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2021 By SinLapis</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>